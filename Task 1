import os
import shutil

# Функція для рекурсивного копіювання та сортування файлів за розширенням
def copy_and_sort_files(src_dir, dest_dir):
    if not os.path.exists(dest_dir):
        os.makedirs(dest_dir)

    for item in os.listdir(src_dir):
        src_path = os.path.join(src_dir, item)

        if os.path.isdir(src_path):
            # Рекурсивно проходимо по всіх підпапках
            copy_and_sort_files(src_path, dest_dir)
        else:
            # Отримуємо розширення файлу
            file_ext = os.path.splitext(item)[1][1:]  # наприклад, "txt", "png"
            ext_dir = os.path.join(dest_dir, file_ext)

            if not os.path.exists(ext_dir):
                os.makedirs(ext_dir)

            shutil.copy2(src_path, ext_dir)  # копіюємо файл до відповідної піддиректорії

# Задаємо вихідну та цільову директорії
src_dir = '/Users/newalex/Desktop/Projects/goit-algo-hw-03/files/source_folder'  # вихідна папка
dest_dir = '/Users/newalex/Desktop/Projects/goit-algo-hw-03/files/destination_folder'  # папка призначення

# Запускаємо функцію
copy_and_sort_files(src_dir, dest_dir)

print("Файли успішно скопійовано та відсортовано за розширенням!")
